---
title: Floodgate代理服务器安装
description: 了解如何在您的Bungee、Waterfall或Velocity服务器上设置Floodgate。
hide_title: true
---

:::info
您只需要在BungeeCord或Velocity代理服务器上安装Floodgate，除非您想在后端服务器上使用Floodgate API。
此外，它将正确显示基岩版皮肤。
:::

1. 从[下载页面](/download/?project=floodgate)下载适用于您的代理软件的Floodgate。
2. 将Floodgate jar文件放入`plugins`文件夹，然后重启代理服务器。
3. 在Geyser的配置文件中将`auth-type`更改为`floodgate`。
4. 重启服务器。

### 在代理后面的服务器上安装Floodgate \{#installing-floodgate-on-servers-behind-the-proxy}

只有当您想在代理后面的后端服务器上使用Floodgate API时才需要这样做。

1. 在代理上安装Floodgate后，在后端服务器上安装Floodgate（Floodgate-Spigot或Floodgate-Fabric）。
2. 如果使用BungeeCord，请在BungeeCord的`config.yml`中启用`ip_forward`。对于Velocity，请设置[玩家信息转发](https://docs.papermc.io/velocity/player-information-forwarding)。
3. 在spigot.yml中将`bungeecord`设置为`true`。使用Velocity时，请查看他们的指南，因为他们有多个需要不同设置的选项。
4. 启动代理服务器。
5. 编辑代理服务器上的Floodgate配置，将`send-floodgate-data`设置为`true`。
6. 将代理Floodgate配置文件夹中的`key.pem`文件复制到所有后端服务器的Floodgate配置文件夹中。
7. 重启后端服务器和代理服务器。

:::danger
不要将此密钥分发给任何人！此密钥允许基岩版账户绕过Java版身份验证，如果任何人获得此密钥，他们可能会在您的服务器上造成严重破坏。
:::
