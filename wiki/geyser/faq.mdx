---
title: 常见问题
description: 关于Geyser的常见问题，包括其工作原理、不兼容的插件等更多信息。
---

import { Questions, Q, A } from "@site/src/components/Questions";
import { Versions } from '@site/src/components/Versions'

### 一般问题 \{#general-questions}

在这里您可以找到关于Geyser的常见问题解答 - 如果您有未在此解答的问题，欢迎在我们的[Discord](https://discord.gg/GeyserMC)中提问！

<Questions>
    <Q> 
        它是如何工作的？
        <A>
            Geyser作为一个翻译器，转换客户端和服务器之间的传入和传出数据包，使双方都能理解。这样一来，它模拟了一个Minecraft: Java版客户端，所以服务器实际上认为您是从Java版加入的。无论服务器或其安装的插件如何，您都可以使用Geyser加入它（只要服务器支持最新的原版（未修改）Minecraft版本）。
        </A>
    </Q>
    <Q>
        那么，红石是如何工作的？
        <A>
            红石，以及任何其他机制如命令、农场等，将完全像Java版一样工作，因为您是加入Java版服务器，而Geyser不会修改服务器行为。
        </A>
    </Q>
    <Q>
        Geyser是付费的吗？
        <A>
            不，Geyser和所有相关项目都是完全免费和开源的，基于MIT许可证。
        </A>
    </Q>
    <Q>
        哪些插件与Geyser不兼容？
        <A>
            Geyser通常应该与插件兼容良好，因为我们模拟了Java客户端。但也有例外：

            * [TCPShield](https://tcpshield.com/) 需要禁用 `only-allow-proxy-connections` 才能在免费计划下使用。但是，他们的"高级"计划将支持Geyser - 请参阅[此处](https://docs.tcpshield.com/miscellaneous/geyser)获取设置说明。

            Floodgate可能会导致插件出现问题，因为它修改了登录过程。*请注意，任何离线模式验证插件仅供参考；Geyser不支持离线模式使用。*

            * [DynamicBungeeAuth](https://www.spigotmc.org/resources/27480/) 目前在最新版本10.28B+上可用（10.27B及更早版本会为基岩版玩家生成无效凭据）
            * [FastLogin](https://www.spigotmc.org/resources/14153/) 不允许floodgate添加玩家前缀。
            * [ExploitFixer](https://www.spigotmc.org/resources/62842/) 认为Floodgate用户正在欺骗UUID - 在ExploitFixer的配置中禁用`uuidspoof`设置。
            * [JPremium](https://www.spigotmc.org/resources/27766/) 更改了玩家的UUID，导致Floodgate无法从其映射中获取基岩版数据。
            * [LibHatesMods](https://www.spigotmc.org/resources/78202/) 导致认证失败，错误为`com.github.steveice10.mc.auth.exception.request.InvalidCredentialsException`
            * [ProtocolSupport](https://www.spigotmc.org/resources/7201/) ~~目前与Floodgate不兼容。~~ 可以与Floodgate一起使用，但我们建议使用[ViaBackwards](https://hangar.papermc.io/ViaVersion/ViaBackwards)代替。
            * [ProtocolSupportBungee](https://www.spigotmc.org/resources/8733/) 更改了登录过程的工作方式，因此破坏了Floodgate注入代码。
            * [SayNoToMcLeaks](https://www.spigotmc.org/resources/40906/) 阻止Floodgate完成其登录系统。

            如果您发现任何其他不兼容的插件，请通过[Discord](https://discord.gg/geysermc)告诉我们。
        </A>
    </Q>
    <Q>
        Geyser 支持哪些服务器版本？
        <A>
            请参见[此页面](/wiki/geyser/supported-versions)获取详细信息。
        </A>
    </Q>
    <Q>
        我需要哪个版本的 Geyser 插件？
        <A>
            这是每个 Geyser 插件版本所适用平台的不完整列表，独立版可以用于任何平台，因为它不是插件。
            * Geyser-Spigot 适用于：
            * [Spigot](https://www.spigotmc.org/)
            * [Paper](https://papermc.io/downloads/paper)（推荐）
            * 上述的任何其他分支
            * Geyser-Bungee 适用于：
            * [BungeeCord](https://www.spigotmc.org/wiki/bungeecord/)
            * [Waterfall](https://papermc.io/downloads/Waterfall)
            * 上述的任何其他分支
            * Geyser-Velocity 适用于 [Velocity](https://www.velocitypowered.com/)
            * Geyser-Fabric 适用于 [Fabric](https://www.fabricmc.net/)，并且还需要在服务器上安装 FabricAPI。
            * Geyser-NeoForge 适用于 [NeoForge](https://neoforged.net/),
            * Geyser-ViaProxy 适用于 [ViaProxy](https://github.com/ViaVersion/ViaProxy)。
        </A>
    </Q>
    <Q>
        哪种 Geyser 版本更好，独立版还是插件版？
        <A>
            由于优化可以挂钩到插件平台，Geyser 的插件版本相比独立版更可取。在 Spigot、Velocity、Fabric/NeoForge 和 BungeeCord 版本的 Geyser 上，直接连接可以实现更快的加载时间、更低的延迟和准确的 IP 地址，而无需 Floodgate。Spigot、Fabric 和 NeoForge 上的 Geyser 由于具有直接的世界访问权限，具有进一步的优化，包括更低的内存使用和更高的翻译准确性。然而，大型服务器网络可能更喜欢独立版 Geyser，因为它可以在不需要重启任何其他代理或服务器的情况下进行更新，并且可以将资源使用卸载到单独的机器上。
        </A>
    </Q>
    <Q>
        如果使用 BungeeCord 或其他分支，我需要在哪里放置 Geyser/Floodgate？
        <A>
            只要不使用 Floodgate API，您只需要在 BungeeCord 服务器上安装 Geyser 和/或 Floodgate。在这种情况下，后端服务器也需要 Floodgate。
        </A>
    </Q>
    <Q>
        我需要给基岩玩家什么 IP？
        <A>
            通常，基岩玩家加入时使用的 IP 是您的 Java IP 和 Geyser 配置中 `bedrock` 部分下 `port` 定义的端口。例如，如果 Java 玩家加入时使用的 IP 地址是 `test.geysermc.org`，并且 `bedrock` `port` 设置为 19132，基岩玩家应该使用 IP `test.geysermc.org` 和端口 `19132` 加入。
        </A>
    </Q>
    <Q>
        如何让基岩玩家加载资源包？
        <A>
            您可以将基岩版资源包添加到 Geyser 安装中的 `packs` 文件夹中，该文件夹位于 Geyser 配置所在的位置。基岩客户端将自动下载并加载这些资源包。目前没有自动的 Java 到基岩版资源包转换，但您可以使用[此工具](https://rtm516.github.io/ConvertJavaTextureToBedrock/)将任何 Java 资源包转换为基岩版，并将其添加到您的服务器中。该转换器目前仅适用于 1.17 及以下的资源包；您需要使用其他转换器，或者[自行转换资源包](https://learn.microsoft.com/en-us/minecraft/creator/documents/convertingtexturepacks)。
        </A>
    </Q>
    <Q>
        基岩玩家如何在副手中持有物品？
        <A>
            您可以使用命令 `/geyser offhand`，它将交换主手和副手中的物品。您还可以在配置中启用一个设置（`emote-offhand-workaround`），允许基岩玩家执行表情以切换主手和副手。
        </A>
    </Q>
    <Q>
        使用 Floodgate 时如何在命令中包含玩家？
        <A>
            如果 Floodgate 玩家有前缀，您必须在名称中包含前缀。Floodgate 还会将名称中的所有空格替换为下划线，因此在执行命令时请务必用下划线替换任何空格。如果这不起作用，请在名称周围加上双引号。

            示例：`/tp ".<基岩用户名>"`
        </A>
    </Q>
    <Q>
        使用 Floodgate 时如何将玩家添加到白名单？
        <A>
            有三种方法可以做到这一点。

            1. 使用 Floodgate 的内置白名单命令：`/fwhitelist add <基岩用户名>`。这仅在玩家已加入任何 Geyser 服务器时有效。

            2. 使用 `/whitelist off` 关闭白名单，然后让 Geyser 玩家加入。之后，运行 `/whitelist add ".<基岩用户名>"`，最后使用 `/whitelist on` 重新打开白名单。
            使用本地链接时：如果您要将基岩版账户链接到现有的已白名单 Java 版账户，则不需要单独将基岩版账户加入白名单。您可以链接账户并立即重新打开白名单。

            3. 将 Floodgate 提供的玩家 UUID 添加到 `whitelist.json` 文件中。然后，运行 `/whitelist reload` 以更新白名单。

            选择适合您的偏好和服务器设置的方法。
        </A>
    </Q>
    <Q>
        使用 Floodgate 时如何在玩家不加入的情况下找到其 UUID？
        <A>
            使用[此页面](https://mcprofile.io)。如果这不起作用，请尝试以下方法：
        
            首先，您需要获取玩家的 XUID。有几个第三方网站可以找到这个，例如，[这个网站](https://cxkes.me/xbox/xuid)（与 Geyser 无关）。确保选择“十六进制”。您需要输入玩家的 Xbox 玩家标签，提交后，它应该以 `xxxxxxxxxxxxxxxx` 的格式显示 XUID。要将 XUID 转换为 Java 版可以识别的 UUID，您需要以这种格式放置 XUID：`00000000-0000-0000-xxxx-xxxxxxxxxxxx`。如果格式正确，Java 版应该接受它作为 UUID。
        </A>
    </Q>
    <Q>
        我可以移除 Floodgate 玩家的前缀吗？
        <A>
            虽然您可以移除前缀，但通常建议不要移除前缀，以防止玩家在两个版本中使用相同的用户名的情况（例如：基岩版用户名：`JohnDoe`，Java 版用户名：`JohnDoe`）。虽然它们有不同的 UUID，但它们有相同的用户名，这可能会导致涉及玩家名称的命令发生冲突。如果您想移除前缀以使用命令，请尝试在名称周围添加引号。示例：`/tp ".<基岩用户名>"` 否则，前缀位于 Floodgate `config.yml` 中的 `username-prefix:` 下。
        </A>
    </Q>
    <Q>
        我需要 Floodgate 才能使用 Geyser 吗？
        <A>
            不需要；只有在您希望允许基岩客户端在不向 Java 服务器进行身份验证的情况下加入时，才需要 Floodgate。如果没有 Floodgate 插件，Geyser 可以在在线模式下向 Mojang 进行身份验证，或者在离线模式服务器中无需身份验证即可加入（尽管这是不可支持的且危险的，因为任何人都可以加入您的服务器，并且违反了 Mojang 的 EULA）。
        </A>
    </Q>
    <Q>
        有时，当我走得很远时，世界开始出现非常奇怪的可视化错误...
        <A>
            这是由基岩版为 32 位而 Java 版为 64 位引起的基岩客户端问题。有关更多信息，请阅读[此处](https://minecraft.wiki/w/Bedrock_Edition_distance_effects)。这可以通过使用一个[非官方的 Geyser 扩展](https://github.com/oryxel1/GeyserFloatingPoints)来欺骗玩家位置来解决。
        </A>
    </Q>
    <Q>
        我可以使用 Geyser 让 Java 玩家连接到我的基岩服务器吗？
        <A>
            不可以，Geyser 是一个允许基岩玩家连接到 Java 服务器的翻译工具。它不能反向工作。
        </A>
    </Q>
    <Q>
        我可以将 Geyser 与 Pterodactyl 面板一起使用吗？
        <A>
            是的，您可以将 Geyser 作为插件或模组用于在 Pterodactyl 上运行的 Minecraft 服务器软件。独立版也有官方 egg。它支持自动更新，并且所有配置选项都可以轻松编辑。您可以在[此处](https://github.com/GeyserMC/pterodactyl-stuff)找到它，下载 JSON egg，并将其导入到您的面板中。确保 Geyser 端口（使用 UDP）已导出到主机并分配给服务器。
        </A>
    </Q>
    <Q>
        我可以将 Geyser 与 Ngrok 一起使用吗？
        <A>
            很遗憾，Ngrok 仅支持 TCP，因此无法与 Geyser 一起使用。作为替代方案，您可以使用 [playit.gg](https://playit.gg)，它同时支持 TCP 和 UDP。
        </A>
    </Q>
    <Q>
        如何设置 Cosmic Guard？
        <A>
            1. 您需要访问主机系统的终端。注意：本指南仅适用于 Linux 系统！
            2. 设置一个“Guard”，选择游戏，然后选择 Minecraft：基岩版。
            3. 点击 Linux 设置并运行 guardian 安装程序并启动服务。
            4. 运行 "guardian status" 并记下以 "10.31.x.x" 开头的“本地 IP”。
            5. 转到 Geyser config.yml 并将基岩地址更新为您在上面找到的本地 IP。
            6. 重启 Minecraft 服务器并进行测试，它应该适用于 Java 和基岩版。
        </A>
    </Q>
    <Q>
        我可以将 Geyser 连接到旧版本服务器吗？
        <A>
            如果服务器有 ViaVersion 和/或支持最新版本的 Minecraft，可以。但是，由于我们的 Java 支持库的限制，我们无法支持旧版本的 Minecraft。
        </A>
    </Q>
    <Q>
        我可以将 Geyser 连接到模组（Forge/Fabric/NeoForge）服务器吗？
        <A>
            简短回答：如果原版客户端可以加入服务器，那么 Geyser 也可以。

            详细回答：目前，Geyser 无法翻译大多数模组添加的功能（方块、物品等）。因此，需要客户端安装模组的服务器无法通过 Geyser 支持。
        </A>
    </Q>
    <Q>
        如何自动更新 Geyser？
        <A>
            GeyserUpdater（[GitHub 页面](https://github.com/kejonaMC/GeyserUpdater)/[Spigot 页面](https://www.spigotmc.org/resources/88555/)）是一个 Spigot/BungeeCord 插件选项，用于自动更新。请注意，此插件也与 Geyser 无关且不受支持，用户应将插件的支持重定向到其 [Discord](https://discord.gg/U5MC2tcCz9)。
        </A>
    </Q>
    <Q>
        如何让 DiscordSRV 显示 Floodgate 2.0 或 GeyserSkinManager 皮肤？
        <A>
            将 DiscordSRV 配置中的 `AvatarUrl` 行替换为：`AvatarUrl: https://mc-heads.net/avatar/{texture}/{size}.png`

            注意：您需要运行 DiscordSRV v1.22.0 或更新版本。仍然需要 Floodgate 2.0 或 GeyserSkinRestorer 才能让皮肤显示给 Java 玩家，并且这才能工作。

            或者，如果您无法让上述 AvatarUrl 与 DiscordSRV 一起工作，或者您想将其与支持纹理 ID 的另一个插件一起使用，您可以使用 [Starlight Skin API](https://docs.lunareclipse.studio/)。
        </A>
    </Q>
    <Q>
        我可以将 Buycraft (Tebex) 与 Geyser 一起使用吗？
        <A>
            当然可以！Buycraft 通过离线商店模式支持 Java 和基岩玩家**（建议与 Floodgate 一起使用）**

            **（目前，Buycraft 不支持特殊符号如 `*` 或 `-`，因此您需要将 Floodgate 前缀更改为 `_` 或完全移除它。）**
            <h3>创建支持两个版本的商店的步骤</h3>
            - Buycraft-> 创建网络商店
            - 选择游戏-> Minecraft 离线
            - 继续-> 点击“创建我的网络商店”
            - 命名您的服务器并选择货币-> 继续
            - 选择游戏服务器-> 继续
            - 下载最适合您服务器的插件版本。
            - 从服务器控制台执行秘密命令

            您的商店现在已设置为支持基岩和 Java 玩家。

            **（请注意，如果您使用带有 Floodgate 的前缀，基岩玩家将需要输入该前缀。）**
        </A>
    </Q>
    <Q>
        我可以将 CraftingStore 与 Geyser 一起使用吗？
        <A>
            是的，CraftingStore 可以与 Geyser 一起使用。但是，如果您使用的 Floodgate 前缀不是 `+`，则需要禁用高级名称检查配置选项。
        </A>
    </Q>
</Questions>

### 其他问题 \{#additional-questions}

这些额外的常见问题与 Geyser 游戏玩法无关。

<Questions>
    <Q>
        CubeCraft 和 Geyser 之间是什么关系？
        <A>
            Redned 于 2019 年 7 月启动了 Geyser。2020 年 5 月，CubeCraft 收购了 GeyserMC 品牌。这意味着他们管理该项目（尽管目前他们管理得很轻）。CubeCraft 不拥有 Geyser 的代码。
        </A>
    </Q>
    <Q>
        CubeCraft 使用 Geyser 吗？
        <A>
            不。他们有自己的基岩服务器技术，您可以在[此处](https://www.cubecraft.net/threads/behind-the-cube-1-feelin-lucky.264600/)了解更多信息。
        </A>
    </Q>
</Questions>
