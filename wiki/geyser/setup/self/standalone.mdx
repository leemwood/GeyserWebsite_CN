---
title: Geyser 独立版设置
description: 了解如何设置 Geyser 独立版，这是一个独立的 Java 程序，允许您将基岩版玩家连接到您的 Java 版服务器。
hide_title: true
---

:::info
您需要安装 Java 17 或更高版本才能运行 Geyser。要在 Android 上运行 Geyser 独立版，请参阅本页底部。
:::

:::caution
Geyser-独立版不是插件或模组！它是一个独立的 Java 程序，需要与您的 Java 版服务器分开运行。
:::

#### 常规设置和配置 \{#general-setup--configuration}

1. 从[此处](/download)下载 Geyser 独立版。
2. 为 Geyser 创建一个新文件夹，并将 jar 文件放入其中。
3. 启动 Geyser 独立版：
   - **图形界面**（推荐）：   
   双击 jar 文件，Geyser 所需的所有文件将被创建。
   - 或使用**控制台设置**：   
   创建一个新的 bat 或启动脚本，类似于您用于 Spigot/Paper 服务器的脚本，并查看[此页面](/wiki/geyser/creating-a-startup-script/)了解要放入的内容。   
   运行启动脚本/bat 文件，Geyser 所需的所有文件将被创建。

4. 打开您的 Geyser 配置文件（`config.yml`），找到以下内容：

   ```yaml
   bedrock: 
      # 将监听连接的 IP 地址。
      # 通常，只有在您想限制哪些 IP 可以连接到您的服务器时才应取消注释并更改此项。
      #address: 0.0.0.0 

      # 将监听连接的端口。这是基岩版玩家用来连接到您服务器的端口。
      port: 19132 
   ```
   `port` 是基岩版玩家输入以连接到服务器的端口。   
   只有在需要限制连接到特定 IP 地址时才需要在此取消注释并更改 `address`。
     

   要配置 Geyser 独立版将玩家发送到哪个 Java 版服务器，找到远程部分：
   ```yaml
   remote:
      # 远程（Java 版）服务器的 IP 地址
      # 如果是 "auto"，对于独立版，远程地址将设置为 127.0.0.1。
      address: auto

      # 远程（Java 版）服务器的端口
      port: 25565
      
      # 身份验证类型。可以是 offline、online 或 floodgate（参见 https://github.com/GeyserMC/Geyser/wiki/Floodgate）。
      auth-type: online
   ```
   在此，将 `address` 更改为 Java 服务器的地址，如果服务器与 Geyser-独立版在同一台机器上，则设置为 `auto`。 
然后，将 `port` 更改为 Java 服务器的端口。如果您已在远程 Java 服务器上设置了 Floodgate，可以将 auth-type 设置为 "floodgate" - 否则， 
将其设置为 `online`（对于在线模式服务器）或 `offline`（对于离线模式服务器）。要安装并使用 Floodgate 与独立版服务器，请参阅[此处](/wiki/floodgate/setup)。   
   
5. 连接到您的服务器
        
   **在同一网络内本地连接**   
   在与服务器相同的设备上，您可以使用 `localhost` 或 `127.0.0.1` 作为地址进行连接。
   注意：在同一 Windows 设备上托管和游玩时，您需要[环回修复](/wiki/geyser/fixing-unable-to-connect-to-world#using-geyser-on-the-same-computer)。
   同一本地网络中的其他设备可以使用您的本地 IPv4 进行连接 - 它以 `10.` 或 `192.168.` 开头。
   或者，打开 Minecraft：基岩版，在**好友**选项卡中加入局域网服务器。
        
   **从不同网络连接**  
   如果您希望网络外的玩家加入，您需要将 Geyser 运行的端口暴露到互联网。
   为此，您有两个选项：   

    - 端口转发：在路由器/调制解调器和 Windows/Linux 防火墙中打开 Geyser 端口（例如 19132）的 UDP 协议。
      完成此操作后，玩家可以使用您的公共 IPv4 + 端口连接到您的服务器。
      请参阅[此处](/wiki/geyser/port-forwarding/)获取有用指南。   

    - playit.gg：如果不想打开端口（这可能不是一个选项/如果您不想暴露您的家庭 IP），您可以使用
      playit.gg 服务为您创建隧道来路由流量。请参阅我们的 [playit.gg 指南](/wiki/geyser/playit-gg)。
      Ngrok 将无法工作，因为它仅支持 TCP。   

6. 通过在控制台中运行 `geyser connectiontest <ip> <port>` 来验证是否可以从其他网络进行连接。

#### 在 Android 上运行 Geyser-独立版 \{#running-geyser-standalone-on-android}

:::caution
Android 上的 Termux 等应用程序能够运行 Geyser，但这在很大程度上取决于您的 Android 设备的性能。请自行承担风险。
:::

##### Termux (Android) \{#termux-android}
1. 下载并安装 [Termux](https://termux.com/)
2. 运行 `pkg install openjdk-17`
3. 运行 `wget https://download.geysermc.org/v2/projects/geyser/versions/latest/builds/latest/downloads/standalone`
4. 运行 `java -jar Geyser-Standalone.jar`

或者

我们有适用于干净 Termux 安装的自动设置脚本，可能不适用于所有用户。如果上述手动指南不起作用，请尝试此操作。
运行此命令开始下载/安装：
```
curl https://gist.githubusercontent.com/rtm516/e3e07d6595ee41e05a38b03c0f4d7a80/raw/install.sh | bash
```

